---
const navItems = [
  { label: "Über uns", href: "/ueber-uns" },
  { label: "Anmeldung & Aufnahme", href: "/anmeldung" },
  { label: "Alltag & Angebote", href: "/alltag" },
  { label: "Kontakt", href: "/kontakt" },
];

const currentPath = Astro.url.pathname;
---

<header class="py-6 px-4 md:px-8">
  <nav class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <a href="/" class="flex items-center gap-3 hover:opacity-80 transition-opacity">
      <img src="/images/logo.png" alt="Montessori-Kinderhaus Logo" class="h-12 w-auto" />
      <span class="text-xl font-serif font-semibold text-text hidden sm:inline">Montessori-Kinderhaus</span>
    </a>

    <button
      id="mobile-menu-button"
      class="md:hidden absolute top-6 right-4 p-2"
      aria-label="Menü öffnen"
      aria-expanded="false"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <ul
      id="nav-menu"
      class="hidden md:flex flex-col md:flex-row gap-2 md:gap-8 text-sm"
    >
      {navItems.map((item) => (
        <li>
          <a
            href={item.href}
            class:list={[
              "block py-2 md:py-0 transition-colors hover:text-yellow-dark",
              currentPath === item.href ? "text-yellow-dark font-medium" : "text-text-muted",
            ]}
          >
            {item.label}
          </a>
        </li>
      ))}
    </ul>
  </nav>
</header>

<script>
  const button = document.getElementById("mobile-menu-button");
  const menu = document.getElementById("nav-menu");

  button?.addEventListener("click", () => {
    const isExpanded = button.getAttribute("aria-expanded") === "true";
    button.setAttribute("aria-expanded", (!isExpanded).toString());
    menu?.classList.toggle("hidden");
  });
</script>
